<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock, Paper, Scissors</title>
</head>
<body>

  <div class="scoreboard">SCORE (First to 5):
    <div class="playerScore">You:
      <span class="playerScoreNumber">0</span>
    </div>
    <div class="computerScore">Computer:
      <span class="computerScoreNumber">0</span>
    </div>
  </div>


  <button id="rock">ROCK</button>
  <button id="paper">PAPER</button>
  <button id="scissors">SCISSORS</button>

  <div class="matchoutcome"></div>


  <div class="resultscontainer">RESULTS:
    <ol class="resultslist"></ol>
  </div>


  <script>

    const rock = document.querySelector('#rock');
    const paper = document.querySelector('#paper');
    const scissors = document.querySelector('#scissors');
    const resultsList = document.querySelector('.resultslist');
    const scoreboard = document.querySelector('.scoreboard');
    const playerScoreDisplay = document.querySelector('.playerScore');
    const computerScoreDisplay = document.querySelector('.computerScore');
    const playerScoreNumber = document.querySelector('.playerScoreNumber');
    const computerScoreNumber = document.querySelector('.computerScoreNumber');
    const matchOutcome = document.querySelector('.matchoutcome');




    let playerScore = 0;
    let computerScore = 0;


  //runs when player clicks a button
    function playerSelect(selection) {
      const result = document.createElement('li');
      result.textContent = `${playRound(selection)}`;
      if (result.textContent.includes('win')) {
        playerScore++;
        playerScoreNumber.textContent++;
        if (playerScore === 5 && playerScore > computerScore) {
          matchOutcome.textContent = `Victory! You win ${playerScore} to ${computerScore}!`
        }
      } else if (result.textContent.includes('lose')) {
        computerScore++;
        computerScoreNumber.textContent++;
        if (computerScore === 5 && computerScore > playerScore) {
          matchOutcome.textContent = `Defeat! You lose ${computerScore} to ${playerScore}!`
        }
      }
      resultsList.appendChild(result);


      console.log(result.textContent);
    }


    //player selection event listeners

    rock.addEventListener('click', () => playerSelect('rock'));

    paper.addEventListener('click', () => playerSelect('paper'));

    scissors.addEventListener('click', () => playerSelect('scissors'));



    // Computer's selection
    function computerPlay() {
      let options = ['rock', 'paper', 'scissors'];
      let index = Math.floor(Math.random() * 3);
      return options[index];
    }

    // Play out a round between the user and computer
    function playRound(playerSelection, computerSelection) {
      playerSelection = playerSelection ||
      prompt('Rock, paper, or scissors?').toLowerCase();

      computerSelection = computerPlay();

      let options = ['rock', 'paper', 'scissors']

      if (playerSelection === 'rock') {
        if (computerSelection === 'rock') {
          return 'You tie with rock!';
        }
        if (computerSelection === 'paper') {
          return 'You lose! Paper beats rock';
        }
        if (computerSelection === 'scissors') {
          return 'You win! Rock beats scissors';
        }
      }
      if (playerSelection === 'paper') {
        if (computerSelection === 'rock') {
          return 'You win! Paper beats rock';
        }
        if (computerSelection === 'paper') {
          return 'You tie with paper!';
        }
        if (computerSelection === 'scissors') {
          return 'You lose! Scissors beat paper';
        }
      }
      if (playerSelection === 'scissors') {
        if (computerSelection === 'rock') {
          return 'You lose! Rock beats scissors';
        }
        if (computerSelection === 'paper') {
          return 'You win! Scissors beat paper';
        }
        if (computerSelection === 'scissors') {
          return 'You tie with scissors!';
        }
      }
    }



    // //displaying winner
    // //if the player wins
    // if (playerScore === 5) {
    //   let message = document.createElement('div');
    //   message.textContent = `Victory! You win ${playerScore} to ${computerScore}!`;
    //   matchOutcome.appendChild(message);
    // }









    // // Run a 5 round game
    // function game() {
    //   // let playerScore = 0;
    //   // let computerScore = 0;

    //   //for (var i = 0; i < 5; i++) {
    //     let roundMessage = playRound();
    //     console.log(roundMessage);
    //     if (roundMessage.includes('win')) {
    //       playerScore ++;
    //     }
    //     if (roundMessage.includes('lose')) {
    //       computerScore ++;
    //     }
    //     if (roundMessage.includes('tie')) {
    //       return;
    //     }
    //   //}

    //   if (playerScore > computerScore) {
    //     console.log(`You win! ${playerScore} to ${computerScore}`);
    //   } else if (playerScore === computerScore) {
    //     console.log(`You tied! ${playerScore} to ${computerScore}`);
    //   } else {
    //     console.log(`You lose! ${computerScore} to ${playerScore}`);
    //   }
    // }




  </script>

</body>
</html>